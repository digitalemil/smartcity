<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Mesosphere DC/OS AppStudio</title>

</head>
<body bgcolor="#FFFFFF">
	<div id="alldiv">
		<div>
			<img id="bg" style="position: absolute; top: 0px; left: 0px;"
				src="images/mesospheredcos1024x768.jpg"> </img>
		</div>
		<div id="text" style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">
			<h2 style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">
				<center>
					Welcome to DC/OS AppStudio Load Generator for <%= title %>!
				</center>
			</h2>
      <center>
     <div id="setup" style="font-size: 24px; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">
     
		</div>
	</div>
	<script>
		var w = window.innerWidth;
		var h = window.innerHeight;
		var sX = w / 1024;
		var sY = h / 768;
		var bgh = (768 * window.innerWidth / 1024);
		var fields = 1;
		var totalfields= 1;
		var todelete = 1;
    let autostart= <%= autostart %>;
    let byod= '<%= byod %>';

		var bg = document.getElementById("bg");
		bg.setAttribute("style",
				"position:absolute; top:0px; left:0px; width: "
						+ window.innerWidth + "px; height: " + bgh + "px;");
		var text = document.getElementById("text");
		text.setAttribute("style", "style=font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; position:absolute; top:" + (320 * sY)
				+ "px; left:" + (((960 - 512 - 140) / 2) * sX) + "px; width: "
				+ (512 * sX * 1.5) + "px; height: " + (256 * sY * 1.5) + "px;");

        let lgsetup= document.getElementById("setup");
        if(autostart) {
          lgsetup.innerHTML= "        Number of generated messages so far: <%= posts %> \
        <p> \
            Start generating messages on process launch: <%= autostart %> \
            <p>";
        }
        else {
 let p1= "<table id='table' border='0' > \
			<col width='20%'> \
			<col width='20%'> \
			<tr> \
				<td >event_timestamp start value=</td> \
<td>now - <input type='text' name='bhrs' id='bhrs' value='1'/>hours.</td> \
</tr> \
<tr> \
	<td >event_timestamp end value=</td> \
<td >now + <input type='text' name='shrs' id='shrs' value='1'/>hours.</td> \
</tr> \
<tr> \
	<td >Simulated duration between individual messages= </td> \
<td ><input type='text' name='sleep' id='sleep' value='1000'/>ms.</td> \
</tr> \
<tr> \
	<td>id start value=</td> \
<td><input type='text' name='bid' id='bid' value='1'/></td> \
</tr>";

let p2="<tr><td>Sleep duration after replaying <%= fname %>=</td> \
<td><input type='text' name=fsleep id='fsleep' value='60'/>seconds</td> \
</tr>";

let p3= "</table> \
     <p> \
     <button id='startlg' onclick='startLG()' style='width: 360px; font-size: 24px;'>Start</button> \
		  </center> \
    	</br> ";
      if(byod==="yes")
  lgsetup.innerHTML= p1+p2+p3;
else
  lgsetup.innerHTML= p1+p3;

}

function startLG() {
        let r1= document.getElementById("bhrs").value;
        let r2= document.getElementById("shrs").value;
        let r3= document.getElementById("sleep").value;
        let r4= document.getElementById("bid").value;
        let r5="0";
        if(byod==="yes")
          r5= document.getElementById("fsleep").value;
        
  		  location.href = "start?bhrs=" + r1 + "&shrs=" + r2 + "&sleep=" + r3+ "&bid=" + r4+ "&fsleep=" + r5;
};
	</script>

</body>
</html>
